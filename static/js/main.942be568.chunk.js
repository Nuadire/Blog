(this.webpackJsonpblog=this.webpackJsonpblog||[]).push([[0],{114:function(e,t){e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEBLAEsAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/wAALCACAAIABAREA/8QAHAABAAEFAQEAAAAAAAAAAAAAAAYBBAUHCAMC/8QANBAAAQQBAgQEBgEBCQAAAAAAAQACAwQFBhEHITFBCBJRYRMUcYGRoVIjFSJEYnJzgpKy/9oACAEBAAA/AJwiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIi+69eW3YZBXiksWJOTIYWF73fQDmVKo+EmtpoPit0tkvJtvzjDT/wBSd/0o1kcbcxFt1W/Uno2m9YbMZjf9dirdERXmJwuQz9r5bGULORsDrHViMhH126fdZ+zwn1pTgM0ulskIwNyWxB5A+jST+lFXsdFK+KRjo5WHZ8b2lrmn0IPMKiIiLM6P0rd1tqOlhseAJ7Lucjhu2Jg5ue72A/J2Hddg6W0bprhJp+WSD4NOOJnmt5S24CST3c89B6NHL0Cjk/iU0NDcMIt3pmb7fMx03GP689iR9lI8yzR/E/R0tm7Yp5LBhjnm6HhprbDm4O6xuHvt7hcUTCMTyiF7pIQ9wje4bFzNz5SR2JGxXwivsFBRtZzHQ5Od1XGyWI2Wp2dY4i4Bzh6cu/bqu0pcjpPhRpiH+tTwuIA/pCPmZjt1AG7pHH15qMY/xI6Hu3BC67bpAnYT2qrmx/cjfYe5WY19w0wHFPDtlf8ABbcdH5qmXrbOcNxy3I5PYfQ/bYrjzOYS5pvM3MVkIvg3akpilaOm46EeoI2IPoVYoiLMaS1bk9E5yHLYmZsNqMFhD2+ZkjD1Y4dwdh+As7xF4tZviYKsWRbBUpVj52U6nmDHP/m7ckuI7eihSqHODHsDnBj9vO0OIDtum47/AHVERFVznODA5znBg8rA5xPlHoN+g+iop7w+40Z/hzjJ8dRZWu0XuL44LgcRA89SzYjkepb0358tyoln89f1RmbWVyc5s3rLvNJJtsOQ2AA7AAAAeyx6IiIiIiIiIiIiIi2Dwj4Rz8ULVyR93+z8ZTLWSzMaHyOe4bhrQeXTmSfZWPE3hblOGmT8lkG3ipnbVsi1uzX/AOV/8X+3ft7QxERbK4ScFrvEWUXrpmx2nmf4loAksO/jFuNtvV223Yb9sfxd4Yu4Y56vWjt/O0Lkbpa0jwBIA0gOa8DluNxzHXf2UFRERERSnh5xFynDfNfO0CJq0uzbVKR2zJ2j/wAuHPZ3b3C6x0prbTXFjByxVjDcZIzy2sXcYDJH7PYeo9HDce615qzwtYrISPn09kpMQ93P5Sy0zQD2ad/M0fcrX9zwy61rSEQjG3G9nR2vL+nNC9cd4YNYW3j5qfGY9ndz53SkfZref5WzdG+GfT2Bljs5iaTUNppBEUrPh1gf9sEl3/IkeykfEXi9geGtP5dzmXMqGAQYusQC0dvPtyjb+/QFclas1Zk9bZyfLZaf41qX+6Gt5MiYOjGDs0fvqeaxCIiIiIvWpbnoWo7NWeWrZiO8c8Dyx7D7OHMLaWm/Erq7CRsivCrnYW8t7TPhzbf62dfuCppW8WdQxj5nS9lsnf4Ftjm/sBed7xaR/DIo6XkL/W1cAH4a0qAao8QWstSxvhjuRYas7kY8awseR7yEl342WuHEue57iXPcfM5zjuXH1JPUqiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIiIv/9k="},134:function(e,t,a){e.exports=a(263)},144:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);a(135);var n,r,c,i,o=a(0),s=a.n(o),l=a(33),u=a(23),m=a(51),p=a(113),g=a(10),f=a(266),d=a(270),E=Object(d.a)("ALERT_SUCCESS"),b=Object(d.a)("ALERT_ERROR"),h=Object(d.a)("ALERT_CLEAR"),v=Object(d.a)("USERS_REGISTER_REQUEST"),I=Object(d.a)("USERS_REGISTER_SUCCESS"),A=Object(d.a)("USERS_REGISTER_FAILURE"),O=Object(d.a)("USERS_LOGIN_REQUEST"),j=Object(d.a)("USERS_LOGIN_SUCCESS"),_=Object(d.a)("USERS_LOGIN_FAILURE"),y=Object(d.a)("USERS_LOGOUT"),S=Object(d.a)("ARTICLES_REQUEST"),R=Object(d.a)("ARTICLES_SUCCESS"),k=Object(d.a)("ARTICLES_FAILURE"),N=(Object(d.a)("ARTICLE_UPDATE_REQUEST"),Object(d.a)("ARTICLE_UPDATE_SUCCESS"),Object(d.a)("ARTICLE_UPDATE_FAILURE"),Object(d.a)("ARTICLE_FAVORITED")),w=Object(d.a)("ARTICLE_UNFAVORITED"),C=JSON.parse(localStorage.getItem("user")),T=C?{loggedIn:!0,user:C.user}:{},P=Object(f.a)((n={},Object(g.a)(n,O,(function(){return{loggedIn:!1}})),Object(g.a)(n,j,(function(e,t){return{loggedIn:!0,user:t.payload.user}})),Object(g.a)(n,_,(function(){return{loggedIn:!1}})),Object(g.a)(n,y,(function(){return{loggedIn:!1}})),n),T),x=Object(f.a)((r={},Object(g.a)(r,v,(function(){return{registering:!0}})),Object(g.a)(r,I,(function(){return{}})),Object(g.a)(r,A,(function(){return{}})),r),{}),L=Object(f.a)((c={},Object(g.a)(c,E,(function(e,t){return{type:"success",message:t.payload}})),Object(g.a)(c,b,(function(e,t){return{type:"error",message:t.payload}})),Object(g.a)(c,h,(function(){return{}})),c),{}),U=a(65),D=function(e,t){var a=t.payload;return Object(U.a)(Object(U.a)({},e),{},{articles:e.articles.map((function(e){return e.slug===a.slug?Object(U.a)(Object(U.a)({},e),{},{favorited:a.favorited,favoritesCount:a.favoritesCount}):e}))})},B=Object(f.a)((i={},Object(g.a)(i,S,(function(){return{loadingArticles:!0}})),Object(g.a)(i,R,(function(e,t){return{loadingArticles:!1,articles:t.payload}})),Object(g.a)(i,k,(function(){return{loadingArticles:!1}})),Object(g.a)(i,N,D),Object(g.a)(i,w,D),i),{}),F=Object(m.c)({authentication:P,registration:x,alert:L,articlesReducer:B}),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||m.d,Y=[p.a],H=Object(m.e)(F,Q(m.a.apply(void 0,Y))),z=a(37),W=a(38),M=a(41),J=a(40),G=a(29),X=a(9),q=a(269),Z=a(15),V=a.n(Z),K=a(45),$="https://conduit.productionready.io/api/",ee={login:"".concat($,"users/login"),register:"".concat($,"users"),articles:"".concat($,"articles")},te="/",ae="/add",ne="/login",re="/signup",ce=function(e){return e.text().then((function(t){var a=t&&JSON.parse(t);if(!e.ok){if(a&&a.errors){var n=Object.keys(a.errors).reduce((function(e,t){var n=a.errors[t].join(", ");return"".concat(e," ").concat(t," ").concat(n,"; ")}),"").trim();return Promise.reject(n)}if(e.statusText)return Promise.reject(e.statusText)}return a}))};var ie={login:function(e,t){var a={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:{email:e.toLowerCase(),password:t}})};return fetch(ee.login,a).then(ce).then((function(e){return localStorage.setItem("user",JSON.stringify(e)),e}))},logout:function(){localStorage.removeItem("user")},register:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:e}),redirect:"follow"};return fetch(ee.register,t).then(ce)}},oe=function(e){var t={"Content-Type":"application/json"};return e&&(t.authorization="Token ".concat(e)),t},se=function(e,t){var a={method:"GET",headers:oe()};return fetch("".concat(ee.articles,"?limit=").concat(e,"&offset=").concat(t?t*e:0),a).then(ce)},le=function(e,t){var a={method:"POST",headers:oe(t)};return fetch("".concat(ee.articles,"/").concat(e,"/favorite"),a).then(ce)},ue=function(e,t){var a={method:"DELETE",headers:oe(t)};return fetch("".concat(ee.articles,"/").concat(e,"/favorite"),a).then(ce)},me={login:function(e,t,a){return function(){var n=Object(K.a)(V.a.mark((function n(r){var c;return V.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r(O()),n.prev=1,n.next=4,ie.login(e,t);case 4:c=n.sent,r(j(c)),a(),r(h()),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(1),r(_(n.t0)),r(b(n.t0));case 14:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()},logout:function(){return function(e){ie.logout(),e(y()),e(h())}},register:function(e,t){return function(){var a=Object(K.a)(V.a.mark((function a(n){return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n(v(e)),a.prev=1,a.next=4,ie.register(e);case 4:n(I()),t(),n(E("Registration successful")),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(1),n(A(a.t0)),n(b(a.t0));case 13:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}()}},pe=a(93),ge=a(114),fe=a.n(ge);a(144);var de={logout:me.logout},Ee=Object(u.b)((function(e){return{user:e.authentication.user}}),de)((function(e){var t=e.user,a=e.logout;return s.a.createElement("div",{className:"header-app__private"},s.a.createElement(G.b,{to:ae,className:"header-app__btn header-app__btn--border header-app__btn--color "},"Create article"),s.a.createElement("div",{className:"user"},s.a.createElement("span",{className:"user__name"},t.username),s.a.createElement("img",{className:"user__icon",src:t.image||fe.a,alt:"avatar"})),s.a.createElement(pe.a,{onClick:a,className:"header-app__btn header-app__btn--border header-app__btn--large"},"Log Out"))})),be=(a(160),function(e){return s.a.createElement(G.b,Object.assign({to:te},e),"Realworld Blog")}),he=function(){return s.a.createElement("div",{className:"header-app__public"},s.a.createElement(G.b,{to:ne,className:"header-app__btn"},"Sign In"),s.a.createElement(G.b,{to:re,className:"header-app__btn--border header-app__btn--color header-app__btn--large"},"Sign up"))},ve=function(e){Object(M.a)(a,e);var t=Object(J.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){var e=this.props.isPrivateHeader;return s.a.createElement("div",{className:"header-app"},s.a.createElement(be,{className:"header-app__logo"}),s.a.createElement("div",{className:"header-app__autorization"},e?s.a.createElement(Ee,null):s.a.createElement(he,null)))}}]),a}(s.a.PureComponent);var Ie={login:me.login,logout:me.logout,clearAlert:h},Ae=Object(u.b)((function(e){var t=e.authentication;return{loggedIn:t.loggedIn,isPrivateHeader:!!t.user}}),Ie)(ve),Oe=(a(161),function(e){Object(M.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).toggleFavorites=function(){var t=e.props,a=t.favorited,n=t.slug,r=t.unfavorit,c=t.favorit,i=t.userToken;a?r(n,i):c(n,i)},e}return Object(W.a)(a,[{key:"render",value:function(){var e=this.props,t=e.favorited,a=e.favoritesCount,n=e.isPublic;return s.a.createElement("label",{className:"like"},n?s.a.createElement("input",{type:"checkbox",className:"like__checkbox-hide",checked:!1,readOnly:!0}):s.a.createElement("input",{type:"checkbox",className:"like__checkbox-hide",checked:t,onChange:this.toggleFavorites}),s.a.createElement("span",{className:"like__icon"}),a)}}]),a}(s.a.PureComponent));Oe.defaultProps={userToken:"",favoritesCount:0};var je={favorit:function(e,t){return function(){var a=Object(K.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,le(e,t);case 3:r=a.sent,n(N(r.article)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(b(a.t0.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()},unfavorit:function(e,t){return function(){var a=Object(K.a)(V.a.mark((function a(n){var r;return V.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ue(e,t);case 3:r=a.sent,n(w(r.article)),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(0),n(b(a.t0.message));case 10:case"end":return a.stop()}}),a,null,[[0,7]])})));return function(e){return a.apply(this,arguments)}}()}},_e=Object(u.b)((function(e){var t=e.authentication.user;return t?{isPublic:!1,userToken:t.token}:{isPublic:!1}}),je)(Oe),ye=(a(162),function(e){var t=e.title,a=e.favoritesCount,n=e.tagList,r=e.description,c=e.author,i=e.slug,o=e.favorited;return s.a.createElement("div",{className:"article-note"},s.a.createElement("div",{className:"article-note__text-wrapper"},s.a.createElement("div",{className:"article-note__title-wrapper"},s.a.createElement("h2",{className:"article-note__title"},s.a.createElement(G.b,{to:"/articles/".concat(i)},t)),s.a.createElement(_e,{favorited:o,favoritesCount:a,slug:i})),s.a.createElement("div",{className:"article-note__tags"},n.map((function(e){return s.a.createElement(pe.a,{key:e,className:"article-note__tag",size:"small"},e)}))),s.a.createElement("div",{className:"article-note__description"},r)),s.a.createElement("div",{className:"article-note__author"},s.a.createElement("div",{className:"article-note__author-name"},c.username),s.a.createElement("div",{className:"article-note__date"},12345)),s.a.createElement("img",{className:"article-note__photo",src:c.image,alt:"avatar"}))}),Se=(a(163),function(e){var t=e.text;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"spinner"})," ",s.a.createElement("span",null,t||""))}),Re=(a(164),function(e){Object(M.a)(a,e);var t=Object(J.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.getAllActions)()}},{key:"render",value:function(){var e=this,t=this.props,a=t.articles;return t.loadingArticles?s.a.createElement("div",{className:"spinner-container"},s.a.createElement(Se,{text:"Loading..."})):s.a.createElement(s.a.Fragment,null,a&&a.map((function(t){return s.a.createElement(ye,Object.assign({key:t.slug},t,{changeLike:e.changeLike}))})))}}]),a}(s.a.PureComponent));Re.defaultProps={loadingArticles:!0,articles:[]};var ke={getAllActions:function(e){return function(){var t=Object(K.a)(V.a.mark((function t(a){var n;return V.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(S()),t.prev=1,t.next=4,se(10,e);case 4:n=t.sent,a(R(n.articles)),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(1),a(k(t.t0)),a(b(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()}},Ne=Object(u.b)((function(e){var t=e.articlesReducer,a=t.articles,n=t.loadingArticles;return{articles:a,loggedIn:e.authentication.loggedIn,loadingArticles:n}}),ke)(Re),we=a(264),Ce=a(267),Te=(a(165),function(e){return function(){return e.push(te)}}),Pe=function(e){Object(M.a)(a,e);var t=Object(J.a)(a);function a(){var e;Object(z.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).onFinish=function(t){var a=t.email,n=t.password,r=e.props,c=r.login,i=r.history;c(a,n,Te(i))},e}return Object(W.a)(a,[{key:"componentDidMount",value:function(){(0,this.props.logout)()}},{key:"render",value:function(){var e=this.props,t=e.loggedIn,a=e.clearAlert;return s.a.createElement("div",{className:"login-page"},s.a.createElement("h2",{className:"login-page__title"},"Sign In"),s.a.createElement(we.a,{layout:"vertical",name:"basic",onFinish:this.onFinish,className:"login-page__form"},s.a.createElement(we.a.Item,{name:"email",label:"Email address",rules:[{type:"email",required:!0}]},s.a.createElement(Ce.a,null)),s.a.createElement(we.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}]},s.a.createElement(Ce.a.Password,null)),s.a.createElement(we.a.Item,null,s.a.createElement(pe.a,{block:!0,type:"primary",htmlType:"submit",loading:t},"Login"),s.a.createElement("div",{className:"login-page__signup"},"Don\u2019t have an account?\xa0",s.a.createElement(G.b,{to:re,onClick:a},"Sign Up.")))))}}]),a}(s.a.PureComponent);Pe.defaultProps={loggedIn:!1};var xe={login:me.login,logout:me.logout,clearAlert:h},Le=Object(u.b)((function(e){return{loggedIn:e.authentication.loggedIn}}),xe)(Pe),Ue=a(268),De=(a(248),function(e){var t=e.register,a=e.registering,n=e.history;return s.a.createElement("div",{className:"registration-page"},s.a.createElement("h2",{className:"registration-page__title"},"Create new account"),s.a.createElement(we.a,{name:"basic",layout:"vertical",onFinish:function(e){t(e,function(e){return function(){return e.push(ne)}}(n))},className:"registration-form"},s.a.createElement(we.a.Item,{name:"username",label:"Username",rules:[{required:!0}]},s.a.createElement(Ce.a,null)),s.a.createElement(we.a.Item,{name:"email",label:"Email address",rules:[{type:"email",required:!0}]},s.a.createElement(Ce.a,null)),s.a.createElement(we.a.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please input your password!"}]},s.a.createElement(Ce.a.Password,null)),s.a.createElement(we.a.Item,{name:"repeatPass",label:"Repeat Password",rules:[{required:!0,message:"Please input your password!"}]},s.a.createElement(Ce.a.Password,null)),s.a.createElement(we.a.Item,{name:"agree",valuePropName:"checked"},s.a.createElement(Ue.a,null,"I agree to the processing of my personal information")),s.a.createElement(we.a.Item,null,s.a.createElement(pe.a,{block:!0,type:"primary",htmlType:"submit",loading:a},"Create"),s.a.createElement("div",{className:"registration-page__login"},"Already have an account?\xa0",s.a.createElement(G.b,{to:ne},"Sign In.")))))});De.defaultProps={registering:!1};var Be={register:me.register},Fe=Object(u.b)((function(e){return{registering:e.registration.registering}}),Be)(De),Qe=(a(249),function(e){Object(M.a)(a,e);var t=Object(J.a)(a);function a(){return Object(z.a)(this,a),t.apply(this,arguments)}return Object(W.a)(a,[{key:"render",value:function(){var e=this.props.alert;return s.a.createElement("div",{className:"app"},e.message&&s.a.createElement(q.a,{type:e.type,message:e.message}),s.a.createElement(G.a,null,s.a.createElement(Ae,null),s.a.createElement(X.c,null,s.a.createElement(X.a,{exact:!0,path:te,component:Ne}),s.a.createElement(X.a,{path:ne,component:Le}),s.a.createElement(X.a,{path:re,component:Fe}))))}}]),a}(s.a.PureComponent));var Ye=Object(u.b)((function(e){return{alert:e.alert}}))(Qe);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(262);Object(l.render)(s.a.createElement(u.a,{store:H},s.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[134,1,2]]]);
//# sourceMappingURL=main.942be568.chunk.js.map